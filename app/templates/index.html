<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>NewsVerifyAI</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 30px; max-width: 700px; margin: auto; }
        input, select, textarea, button { width: 100%; padding: 10px; margin: 10px 0; }
        button { cursor: pointer; background: #007bff; color: white; border: none; }
        button:hover { background: #0056b3; }
        pre { background: #f4f4f4; padding: 10px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>üîç NewsVerifyAI</h1>
    <p>–ü—Ä–æ–≤–µ—Ä—å —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:</p>

    <textarea id="claim" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–æ–º–ø–∞–Ω–∏—è X –æ–±—ä—è–≤–∏–ª–∞ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–∞ Y –∑–∞–≤—Ç—Ä–∞..."></textarea>

    <label for="style">–°—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–∞:</label>
    <select id="style">
        <option value="simple">–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π</option>
        <option value="formal">–§–æ—Ä–º–∞–ª—å–Ω—ã–π</option>
    </select>

    <button onclick="sendRequest()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>

    <h2>üìå –†–µ–∑—É–ª—å—Ç–∞—Ç:</h2>
    <pre id="result">–í–≤–µ–¥–∏—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"</pre>

    <script>
        async function sendRequest() {
            const text = document.getElementById('claim').value.trim();
            const style = document.getElementById('style').value;

            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ!');
                return;
            }

            document.getElementById('result').innerText = '‚è≥ –ü—Ä–æ–≤–µ—Ä—è–µ–º...';

            try {
                const response = await fetch('/check', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ text, style })
                });

                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞: ' + response.status);

                const data = await response.json();
                document.getElementById('result').innerText =
                    JSON.stringify(data, null, 2);
            } catch (err) {
                document.getElementById('result').innerText = '‚ùå ' + err.message;
            }
        }
    </script>
</body>
</html>
